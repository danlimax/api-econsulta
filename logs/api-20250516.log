2025-05-16 11:29:27.060 -03:00 [INF] Iniciando a API eConsulta
2025-05-16 11:29:27.111 -03:00 [INF] User profile is available. Using 'C:\Users\danie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 11:29:27.172 -03:00 [WRN] The WebRootPath was not found: D:\projetos\api-econsulta\wwwroot. Static files may be unavailable.
2025-05-16 11:29:27.241 -03:00 [INF] Now listening on: https://localhost:7083
2025-05-16 11:29:27.242 -03:00 [INF] Now listening on: http://localhost:5211
2025-05-16 11:29:27.244 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 11:29:27.246 -03:00 [INF] Hosting environment: Development
2025-05-16 11:29:27.247 -03:00 [INF] Content root path: D:\projetos\api-econsulta
2025-05-16 11:29:38.213 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:29:38.256 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 50.912ms
2025-05-16 11:29:38.267 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:29:38.275 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 8.1439ms
2025-05-16 11:29:38.395 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:29:38.431 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:29:38.527 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:29:38.530 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 112.8494 ms
2025-05-16 11:29:38.533 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 138.7142ms
2025-05-16 11:29:49.711 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:29:49.716 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:29:49.718 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:29:49.734 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:29:50.082 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 11:29:50.303 -03:00 [ERR] Erro ao validar usuário: teste@teste.com
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password) in D:\projetos\api-econsulta\Services\AuthService.cs:line 84
2025-05-16 11:29:50.327 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 589.0239ms
2025-05-16 11:29:50.336 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:29:50.337 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 619.3133 ms
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password) in D:\projetos\api-econsulta\Services\AuthService.cs:line 84
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto) in D:\projetos\api-econsulta\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-16 11:29:50.350 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password) in D:\projetos\api-econsulta\Services\AuthService.cs:line 84
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto) in D:\projetos\api-econsulta\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-16 11:29:50.366 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 500 null text/plain; charset=utf-8 655.6139ms
2025-05-16 11:31:49.749 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:31:49.753 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.5361ms
2025-05-16 11:31:49.774 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:31:49.778 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.6114ms
2025-05-16 11:31:49.915 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:31:49.919 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:31:49.925 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:31:49.926 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 8.3419 ms
2025-05-16 11:31:49.927 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 12.5246ms
2025-05-16 11:31:55.752 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:31:55.755 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.8746ms
2025-05-16 11:31:55.770 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:31:55.773 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.6208ms
2025-05-16 11:31:55.809 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:31:55.812 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:31:55.818 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:31:55.819 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 6.9877 ms
2025-05-16 11:31:55.821 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 11.9976ms
2025-05-16 11:32:19.233 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:32:19.236 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:32:19.237 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:32:19.241 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:32:19.256 -03:00 [ERR] Erro ao validar usuário: teste@teste.com
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
2025-05-16 11:32:19.262 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 18.6754ms
2025-05-16 11:32:19.263 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:32:19.264 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 26.6348 ms
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-16 11:32:19.273 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-16 11:32:19.284 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 500 null text/plain; charset=utf-8 50.6063ms
2025-05-16 11:33:17.302 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:33:17.305 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.9216ms
2025-05-16 11:33:17.322 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:33:17.325 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.865ms
2025-05-16 11:33:17.383 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:33:17.386 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:33:17.390 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:33:17.392 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 5.6685 ms
2025-05-16 11:33:17.394 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 10.9027ms
2025-05-16 11:34:32.372 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:34:32.375 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.7648ms
2025-05-16 11:34:32.389 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:34:32.391 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.5956ms
2025-05-16 11:34:32.443 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:34:32.446 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:34:32.449 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:34:32.451 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 4.7459 ms
2025-05-16 11:34:32.453 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 10.232ms
2025-05-16 11:35:19.452 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:35:19.455 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.9172ms
2025-05-16 11:35:19.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:35:19.473 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.3763ms
2025-05-16 11:35:19.540 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:35:19.543 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:35:19.545 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:35:19.546 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 3.1737 ms
2025-05-16 11:35:19.548 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 8.5781ms
2025-05-16 11:35:44.825 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:35:44.828 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:35:44.829 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:35:44.832 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:35:44.875 -03:00 [ERR] Erro ao validar usuário: teste@teste.com
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
2025-05-16 11:35:44.882 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 47.2541ms
2025-05-16 11:35:44.883 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:35:44.884 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 55.2218 ms
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-16 11:35:44.894 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-16 11:35:44.905 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 500 null text/plain; charset=utf-8 80.1639ms
2025-05-16 11:38:33.772 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:38:33.775 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.8879ms
2025-05-16 11:38:33.791 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:38:33.794 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.951ms
2025-05-16 11:38:33.847 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:38:33.851 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:38:33.853 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:38:33.855 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 4.5026 ms
2025-05-16 11:38:33.857 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 9.8356ms
2025-05-16 11:38:51.892 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:38:51.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.669ms
2025-05-16 11:38:51.906 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:38:51.909 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.5672ms
2025-05-16 11:38:51.930 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:38:51.933 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.2554ms
2025-05-16 11:38:51.989 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:38:51.992 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:38:51.996 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:38:51.997 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 5.3596 ms
2025-05-16 11:38:51.999 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 9.824ms
2025-05-16 11:39:17.741 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:39:17.744 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:39:17.746 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:39:17.749 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:39:17.753 -03:00 [ERR] Erro ao validar usuário: teste@teste.com
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
2025-05-16 11:39:17.758 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 7.1093ms
2025-05-16 11:39:17.760 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:39:17.761 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 15.2715 ms
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-16 11:39:17.771 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-16 11:39:17.789 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 500 null text/plain; charset=utf-8 47.6625ms
2025-05-16 11:39:21.625 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:39:21.627 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:39:21.629 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:39:21.630 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:39:21.634 -03:00 [ERR] Erro ao validar usuário: teste@teste.com
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
2025-05-16 11:39:21.639 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 7.1335ms
2025-05-16 11:39:21.641 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:39:21.642 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 12.7195 ms
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-16 11:39:21.651 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Equals(
        value: __email_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at api_econsulta.Services.AuthService.ValidateUser(String email, String password)
   at api_econsulta.Controllers.AuthController.Login(UserLoginDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-16 11:39:21.662 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 500 null text/plain; charset=utf-8 36.7784ms
2025-05-16 11:41:45.820 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:41:45.823 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.7201ms
2025-05-16 11:41:45.835 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:41:45.838 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.4384ms
2025-05-16 11:41:45.898 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:41:45.901 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:41:45.904 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:41:45.905 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 3.9926 ms
2025-05-16 11:41:45.907 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 9.0991ms
2025-05-16 11:41:54.281 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:41:54.284 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.6104ms
2025-05-16 11:41:54.287 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:41:54.291 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.8847ms
2025-05-16 11:41:54.312 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:41:54.314 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.5555ms
2025-05-16 11:41:54.358 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:41:54.361 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:41:54.366 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:41:54.367 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 5.4154 ms
2025-05-16 11:41:54.369 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 10.331ms
2025-05-16 11:42:56.792 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:42:56.795 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.0086ms
2025-05-16 11:42:56.799 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:42:56.802 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.0508ms
2025-05-16 11:42:56.815 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:42:56.818 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.5119ms
2025-05-16 11:42:56.864 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:42:56.867 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:42:56.869 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:42:56.870 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 3.7656 ms
2025-05-16 11:42:56.872 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 8.2852ms
2025-05-16 11:43:09.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:43:09.795 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 2.7191ms
2025-05-16 11:43:09.798 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 11:43:09.801 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 3.3854ms
2025-05-16 11:43:09.811 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 11:43:09.814 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.8101ms
2025-05-16 11:43:09.852 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 11:43:09.855 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:43:09.857 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 11:43:09.858 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 3.6151 ms
2025-05-16 11:43:09.860 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 8.2512ms
2025-05-16 11:43:27.566 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 11:43:27.569 -03:00 [INF] CORS policy execution successful.
2025-05-16 11:43:27.584 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:43:27.587 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 11:43:27.835 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ToLower_0='teste@teste.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE lower(u."Email") = @__ToLower_0
LIMIT 1
2025-05-16 11:43:28.128 -03:00 [INF] Login bem-sucedido: teste@teste.com
2025-05-16 11:43:28.142 -03:00 [INF] Token gerado para usuário: "e2acf06a-9126-4b25-9854-d942bfaed4bf", expira em: "2025-05-17T14:43:28.1305915Z"
2025-05-16 11:43:28.147 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-16 11:43:28.157 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 568.8286ms
2025-05-16 11:43:28.159 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 11:43:28.160 -03:00 [INF] HTTP POST /api/auth/login responded 200 in 589.7364 ms
2025-05-16 11:43:28.164 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 200 null application/json; charset=utf-8 598.0896ms
2025-05-16 11:43:50.949 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 11:43:50.955 -03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role and Claim.Value is one of the following values: (medico)
2025-05-16 11:43:50.957 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 11:43:50.959 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 401 in 5.9564 ms
2025-05-16 11:43:50.960 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 401 0 null 11.1369ms
2025-05-16 11:43:58.130 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 11:43:58.134 -03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role and Claim.Value is one of the following values: (medico)
2025-05-16 11:43:58.135 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 11:43:58.136 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 401 in 2.8828 ms
2025-05-16 11:43:58.138 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 401 0 null 7.852ms
2025-05-16 12:10:08.406 -03:00 [INF] Iniciando a API eConsulta
2025-05-16 12:10:08.451 -03:00 [INF] User profile is available. Using 'C:\Users\danie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 12:10:08.508 -03:00 [WRN] The WebRootPath was not found: D:\projetos\api-econsulta\wwwroot. Static files may be unavailable.
2025-05-16 12:10:08.572 -03:00 [INF] Now listening on: https://localhost:7083
2025-05-16 12:10:08.574 -03:00 [INF] Now listening on: http://localhost:5211
2025-05-16 12:10:08.576 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 12:10:08.577 -03:00 [INF] Hosting environment: Development
2025-05-16 12:10:08.578 -03:00 [INF] Content root path: D:\projetos\api-econsulta
2025-05-16 12:10:22.056 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - null null
2025-05-16 12:10:22.098 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/swagger/index.html?url=/openapi/v1.json - 200 null text/html; charset=utf-8 42.81ms
2025-05-16 12:10:22.112 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - null null
2025-05-16 12:10:22.120 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 7.9451ms
2025-05-16 12:10:22.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/openapi/v1.json - null null
2025-05-16 12:10:22.264 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 12:10:22.362 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-05-16 12:10:22.365 -03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 114.4457 ms
2025-05-16 12:10:22.369 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/openapi/v1.json - 200 null application/json;charset=utf-8 140.7953ms
2025-05-16 12:10:45.199 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 12:10:45.206 -03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role and Claim.Value is one of the following values: (medico)
2025-05-16 12:10:45.211 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 12:10:45.212 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 401 in 9.0497 ms
2025-05-16 12:10:45.214 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 401 0 null 15.3873ms
2025-05-16 12:10:57.950 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 12:10:57.955 -03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role and Claim.Value is one of the following values: (medico)
2025-05-16 12:10:57.957 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 12:10:57.958 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 401 in 4.0014 ms
2025-05-16 12:10:57.960 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 401 0 null 9.7751ms
2025-05-16 12:14:14.613 -03:00 [INF] Application is shutting down...
2025-05-16 12:14:36.761 -03:00 [INF] Iniciando a API eConsulta
2025-05-16 12:14:36.805 -03:00 [INF] User profile is available. Using 'C:\Users\danie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 12:14:36.859 -03:00 [WRN] The WebRootPath was not found: D:\projetos\api-econsulta\wwwroot. Static files may be unavailable.
2025-05-16 12:14:36.925 -03:00 [INF] Now listening on: https://localhost:7083
2025-05-16 12:14:36.926 -03:00 [INF] Now listening on: http://localhost:5211
2025-05-16 12:14:36.928 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 12:14:36.929 -03:00 [INF] Hosting environment: Development
2025-05-16 12:14:36.930 -03:00 [INF] Content root path: D:\projetos\api-econsulta
2025-05-16 12:15:31.055 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 12:15:31.508 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-05-16 12:15:31.520 -03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-05-16 12:15:31.524 -03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role and Claim.Value is one of the following values: (medico)
2025-05-16 12:15:31.527 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 12:15:31.529 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 401 in 450.6898 ms
2025-05-16 12:15:31.540 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 401 0 null 485.5923ms
2025-05-16 12:15:56.289 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7083/api/auth/login - application/json 56
2025-05-16 12:15:56.292 -03:00 [INF] CORS policy execution successful.
2025-05-16 12:15:56.301 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 12:15:56.317 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api_econsulta.DTOs.UserLoginDto) on controller api_econsulta.Controllers.AuthController (api-econsulta).
2025-05-16 12:15:56.687 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 12:15:57.075 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ToLower_0='teste@teste.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE lower(u."Email") = @__ToLower_0
LIMIT 1
2025-05-16 12:15:57.385 -03:00 [INF] Login bem-sucedido: teste@teste.com
2025-05-16 12:15:57.400 -03:00 [INF] Token gerado para usuário: "e2acf06a-9126-4b25-9854-d942bfaed4bf", expira em: "2025-05-17T15:15:57.3872746Z"
2025-05-16 12:15:57.405 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-16 12:15:57.418 -03:00 [INF] Executed action api_econsulta.Controllers.AuthController.Login (api-econsulta) in 1096.9368ms
2025-05-16 12:15:57.420 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AuthController.Login (api-econsulta)'
2025-05-16 12:15:57.422 -03:00 [INF] HTTP POST /api/auth/login responded 200 in 1124.0147 ms
2025-05-16 12:15:57.430 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7083/api/auth/login - 200 null application/json; charset=utf-8 1141.1339ms
2025-05-16 12:16:11.769 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - null null
2025-05-16 12:16:11.815 -03:00 [INF] Executing endpoint 'api_econsulta.Controllers.AvailabilitiesController.GetByDoctor (api-econsulta)'
2025-05-16 12:16:11.819 -03:00 [INF] Route matched with {action = "GetByDoctor", controller = "Availabilities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDoctor(System.Guid) on controller api_econsulta.Controllers.AvailabilitiesController (api-econsulta).
2025-05-16 12:16:11.847 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctorId_0='e2acf06a-9126-4b25-9854-d942bfaed4bf'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."DoctorId", a."EndTime", a."StartTime"
FROM "Availabilities" AS a
WHERE a."DoctorId" = @__doctorId_0
ORDER BY a."StartTime"
2025-05-16 12:16:11.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api_econsulta.Models.Availability, api-econsulta, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 12:16:11.872 -03:00 [INF] Executed action api_econsulta.Controllers.AvailabilitiesController.GetByDoctor (api-econsulta) in 51.3331ms
2025-05-16 12:16:11.874 -03:00 [INF] Executed endpoint 'api_econsulta.Controllers.AvailabilitiesController.GetByDoctor (api-econsulta)'
2025-05-16 12:16:11.875 -03:00 [INF] HTTP GET /api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf responded 200 in 102.6389 ms
2025-05-16 12:16:11.877 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7083/api/availabilities/doctor/e2acf06a-9126-4b25-9854-d942bfaed4bf - 200 null application/json; charset=utf-8 107.8885ms
2025-05-16 12:18:54.269 -03:00 [INF] Application is shutting down...
2025-05-16 12:28:10.604 -03:00 [INF] Iniciando a API eConsulta
2025-05-16 12:28:10.651 -03:00 [INF] User profile is available. Using 'C:\Users\danie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 12:28:10.701 -03:00 [WRN] The WebRootPath was not found: D:\projetos\api-econsulta\wwwroot. Static files may be unavailable.
2025-05-16 12:28:10.722 -03:00 [INF] Now listening on: http://localhost:5211
2025-05-16 12:28:10.724 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 12:28:10.725 -03:00 [INF] Hosting environment: Development
2025-05-16 12:28:10.726 -03:00 [INF] Content root path: D:\projetos\api-econsulta
2025-05-16 12:29:09.278 -03:00 [INF] Application is shutting down...
